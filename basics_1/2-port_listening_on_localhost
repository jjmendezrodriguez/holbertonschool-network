#!/bin/bash

# Listen on localhost (127.0.0.1) on port 98 and handle incoming connections.
while true; do
    # Create a TCP socket on port 98 and bind to localhost.
    # The -l option makes nc listen for incoming connections.
    # -p 98 sets the port, and -q 1 closes the connection after 1 second of inactivity.
    nc -l -p 98 -q 1 127.0.0.1 | while read line; do
        # Print each line received from the client (telnet in this case).
        echo "$line"
    done
done
